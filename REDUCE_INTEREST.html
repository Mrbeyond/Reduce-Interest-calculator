<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>REDUCE INTEREST</title>
<link rel="stylesheet" type="text/css" href="interest.css">
</head>
<body>
	<center>
	<h1>REDUCE INTEREST FLOW ANALYZER</h1>
	<div id="cont">
		<div id="item1">
			<div id="frm">
			<label>First Name</label><br>
			<input type="text" title="First Name" id="fn"><br>
			<label>Last Name</label><br>
			<input type="text"  title="Last Name" id="ln"><br>
			<label>Loan Amount</label><br>
			<input type="number" title="Loan Amount" id="la"><br>
			<label>Interest Rate</label><br>
			<input type="number" title="Interest Rate" id="int"><span>%</span><br><br>
			</div>
			<button onclick="proceed()"  id="proc">Proceed</button><br><br>
			<div id="temhd">
				<div id="detem"></div><br>
				<button  onclick="makepay()">Make Payment</button><br><br>
			</div>
		</div>
		<div id="item2">
			<br>
			<div id="obal"></div>
			<label>Payment Amount</label><br>
			<input type="number" title="Amount" id="pamount" onkeyup="seep()"><br>
			<button onclick="paybal()">Pay Now</button><br><br>
			<div id="paytem"></div><br>
			<button id="prnt" style="display: none;" onclick="prnt()">Print</button>
		</div>
	</div></center>
	<script type="text/javascript">
			fn.focus();
			var bkk= document.getElementById("proc");
		function proceed(){ 
		if (fn.value=="" || ln.value==""|| la.value=="" || int.value==""){alert("Please fill all the form to proceed"); fn.focus();}

		else{
		if(la.value<=0 || int.value<=0){alert("Please enter a valid number in both Loan Amount and Reduce Interest to proceed");
			document.getElementById("temhd").style.display="none"; la.focus();}

		  else { if (bkk.innerHTML=="Back") { 
		  	 document.getElementById("frm").style.display="block";  bkk.innerHTML="Proceed"; pamount.value=""; paytem.innerHTML=""; document.getElementById("prnt").style.display="none";
		  	  document.getElementById("item2").style.display="none"; document.getElementById("temhd").style.display="none"; }

		  	else{ if(bkk.innerHTML="Proceed"){
		  		bkk.innerHTML="Back"
			document.getElementById("frm").style.display="none";		  	
			document.getElementById("temhd").style.display="block";
			document.getElementById("detem").innerHTML =
			"Dear "+ fn.value +" "+ ln.value+", "+"<br>" +"&nbsp; &nbsp; &nbsp;You have been granted a loan of" +" "+"N"+la.value+" "+"with  a reduce interest of"+" "+int.value+"%." +"<br>" +"&nbsp; &nbsp; &nbsp; Do you wish to make a payment now? Please click on Make Payment below.";}}
				}		}		}

			var	intcal="", balance="", m;
		function makepay(){document.getElementById("item2").style.display="block";
				 intcal= parseFloat(la.value)+parseFloat(la.value*int.value/100);
				document.getElementById("obal").innerHTML = "Dear "+fn.value +" "+ ln.value +", " +"your balance is"+" "+"N"+intcal +" "
				+"at the interest rate of"+" "+int.value+"%"; pamount.focus();
				m=intcal; 
						}

		function paybal(){
			pamount.focus();
			//var abb=true; 
			if(pamount.value<=0 || pamount.value==""){
				 alert("Please enter a valid Amount");
				document.getElementById("paytem").style.display="none";}

		    if(m < pamount.value){
		    	 document.getElementById("paytem").style.display="none";
		    	 pamount.focus();
				 alert("Please Amount you want to pay is more than the amount you owe");}

			if(pamount.value == m) {
				document.getElementById("paytem").style.display="block";
				 document.getElementById("paytem").innerHTML ="Congratulations! You have paid your loan fully. Thanks for doing business with us."}

		    else if( m > pamount.value && pamount.value!="" && pamount.value>0  ){
			 	document.getElementById("paytem").style.display="block";
			 	 balance = parseFloat(parseFloat(m)- parseFloat(pamount.value));
			 	document.getElementById("paytem").innerHTML =  "Your Payment was N"+pamount.value+" and your new balance is N"+balance;
			 	document.getElementById("prnt").style.display="block"; } 
			 	 }

		function seep(){
			if(m < pamount.value){ 
				pamount.style.color="red";
			} else {
				pamount.style.color="green";

			} 
		}	 	 

			 	

			function prnt() {
				window.print();}

	</script>
</body>
</html>